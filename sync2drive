#!/bin/bash

#OPTIONS='--stats --progress'
OPTIONS='--copy-links'

#
# Sync to 2TB
#
EXTERNAL_01="/Volumes/SSD"

if [[ -d $EXTERNAL_01 ]]
then


	#####################
	# iCloud to external
	#####################

	#sync Notes - moved to evernote
	#rsync -va --delete "$HOME/Library/Mobile Documents/com~apple~TextEdit/Documents" "$EXTERNAL_01/share/backups/abiheiri/Notes/"

	#sync music production
	rsync -va --delete "$HOME/Library/Mobile Documents/com~apple~CloudDocs/music production/" "$EXTERNAL_01/share/backups/audio-projects/music production/"

	#sync iCloud to disk
	rsync -va --delete --exclude 'music production' --exclude 'Documents' "$HOME/Library/Mobile Documents/com~apple~CloudDocs/" "$EXTERNAL_01/share/backups/abiheiri/iCloud/"

	#sync my documents folder
	if [ $(hostname) = "Als-Macbook.local" ];
	then
		rsync -va --delete "$HOME/Documents/" "$EXTERNAL_01/share/backups/abiheiri/twofah docs/"
	fi

	#sync pictures
	#Dont delete remove data
	rsync -va "$HOME/Pictures/AutoImport/" "$EXTERNAL_01/share/backups/backup-pics-videos/AutoImport/"


    #
    # Sync recorder
    #
    RECORDER="/Volumes/IC RECORDER/REC_FILE/MUSIC-2020"
    if [[ -d $RECORDER ]]
    then
        rsync -va "$RECORDER/" "$EXTERNAL_01/share/backups/audio-projects/music production/future-songs/MUSIC-2020/"
    fi
fi

#
# Sync to 64G
#
EXTERNAL_02="/Volumes/S64"
EXTERNAL_03="/Volumes/S256"

if [[ -d $EXTERNAL_02 ]]
then

    rsync -va $OPTIONS --delete "$HOME/Library/Mobile Documents/com~apple~CloudDocs/" "$EXTERNAL_02/iCloud/"
fi

if [[ -d $EXTERNAL_03 ]]
then

    rsync -va $OPTIONS --delete "$HOME/Library/Mobile Documents/com~apple~CloudDocs/" "$EXTERNAL_03/iCloud/"
fi


